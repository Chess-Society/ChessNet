import{l as $t,e as St,g as Tt,a as _,d as kt,f as S,s as Pt,b as Dt,c as m}from"../chunks/DfPprva0.js";import{I as Et,a as jt,i as At,e as q,f as Ct,d as we,r as V,t as Je,b as j,l as It}from"../chunks/SDohX1Oa.js";import{f as tt,p as Mt,l as ye,h as Ft,s as o,t as A,c as a,g as e,a as Ut,m as x,b as v,n as T,r as t,k as H,u as i,j as Ke,v as $,E as zt,_ as Bt}from"../chunks/B4zm7d7r.js";import{i as Qe}from"../chunks/CPpFl6Wl.js";import{c as Re}from"../chunks/CjI_z-5R.js";import{b as Y}from"../chunks/BMuFCVKE.js";import{s as We,a as Gt}from"../chunks/l-0K12sd.js";import{n as U}from"../chunks/C0n51YRF.js";import{C as Nt}from"../chunks/DZBQXXAS.js";import{a as Ot,b as Lt}from"../chunks/D2R-gXPi.js";import{f as qt}from"../chunks/BviiYr3T.js";import{P as Vt}from"../chunks/BM_bgsCv.js";import{S as Ht}from"../chunks/R3Ehc2-O.js";import{P as Xe}from"../chunks/MjU8_qJM.js";import{F as Ze}from"../chunks/BEii0wlV.js";import{T as et}from"../chunks/BALLaoa6.js";import{S as Yt,F as Jt}from"../chunks/BCqkutAZ.js";import{B as Kt}from"../chunks/BMZsjeK5.js";import{T as Qt}from"../chunks/BSZTvWx9.js";import{B as Rt}from"../chunks/B4FdaYO9.js";import{S as Wt}from"../chunks/CFacOjtq.js";import{C as Xt}from"../chunks/C5cdKR88.js";function Zt(J,z){const B=$t(z,["children","$$slots","$$events","$$legacy"]);const K=[["path",{d:"M5 22h14"}],["path",{d:"M5 2h14"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2"}]];Et(J,St({name:"hourglass"},()=>B,{get iconNode(){return K},children:(Q,k)=>{var P=Tt(),D=tt(P);jt(D,z,"default",{}),_(Q,P)},$$slots:{default:!0}}))}var ea=S("<option> </option>"),ta=S('<div class="absolute left-8 top-8 bottom-8 w-0.5 bg-slate-800 -z-10"></div>'),aa=S(`<div class="border-3 border-dashed border-slate-800 rounded-3xl p-16 text-center"><div class="w-20 h-20 bg-slate-900 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg"><!></div> <h3 class="text-xl font-bold text-white mb-2">Tu lienzo está en blanco</h3> <p class="text-slate-400 max-w-sm mx-auto">Selecciona módulos del panel derecho para construir
                            tu clase perfecta. ¡Empieza con una Apertura!</p></div>`),ra=S('<div class="relative pl-0 md:pl-0"><div><div></div> <div class="flex flex-col items-center justify-center px-4 py-2 border-r border-slate-800 gap-2"><div class="text-slate-600 font-bold text-lg font-mono"> </div> <div class="flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-opacity"><button class="p-1 hover:text-white text-slate-600 disabled:opacity-20">▲</button> <button class="p-1 hover:text-white text-slate-600 disabled:opacity-20">▼</button></div></div> <div class="flex-1 p-4 grid grid-cols-1 md:grid-cols-12 gap-4 items-center"><div class="md:col-span-7 space-y-2"><div class="flex items-center gap-2"><div><!></div> <span> </span></div> <input class="bg-transparent border-0 border-b border-transparent focus:border-indigo-500/50 text-white font-bold text-lg w-full p-0 focus:ring-0 placeholder-slate-600 truncate" placeholder="Título del segmento..."/> <input class="bg-transparent text-sm text-slate-400 w-full p-0 border-0 focus:ring-0 placeholder-slate-600/50" placeholder="Añadir notas clave (ej. énfasis en desarrollo)..."/></div> <div class="md:col-span-5 flex justify-end items-center gap-4"><div class="flex items-center gap-3 bg-slate-950/30 rounded-xl px-4 py-2 border border-slate-800"><div class="text-right"><span class="block text-[10px] text-slate-500 uppercase font-bold">Duración</span> <div class="flex items-baseline gap-1"><input type="number" class="bg-transparent w-10 text-right text-white font-mono font-bold p-0 border-0 focus:ring-0"/> <span class="text-xs text-slate-500">min</span></div></div> <!></div> <button class="p-3 rounded-xl bg-slate-800 hover:bg-red-500/10 text-slate-500 hover:text-red-400 transition-colors border border-transparent hover:border-red-500/20" title="Eliminar segmento"><!></button></div></div></div></div>'),sa=S('<div class="space-y-4"><!> <div class="flex justify-center pt-4 opacity-50"><div class="bg-slate-800 px-4 py-1 rounded-full text-xs text-slate-400 border border-slate-700"> </div></div></div>'),oa=S('<button><div><!></div> <div class="flex-1"><span> </span> <span class="text-xs text-slate-500"> </span></div> <!></button>'),la=S('<div class="group relative bg-slate-800/30 hover:bg-slate-800 rounded-xl p-3 border border-slate-700/30 hover:border-slate-600 transition-all"><button class="w-full text-left"><div class="font-bold text-white text-sm line-clamp-1 group-hover:text-indigo-300 transition-colors"> </div> <div class="flex items-center gap-2 mt-1"><span class="text-[10px] bg-slate-700 text-slate-300 px-1.5 py-0.5 rounded"> </span> <span class="text-[10px] text-slate-500"> </span></div></button> <button class="absolute top-2 right-2 p-1.5 text-slate-600 hover:text-red-400 bg-slate-800/0 hover:bg-slate-900 rounded-lg opacity-0 group-hover:opacity-100 transition-all" title="Eliminar plantilla"><!></button></div>'),ia=S('<div class="text-center py-6 text-slate-500 text-sm italic">No hay plantillas guardadas aún.</div>'),da=S(`<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12 pt-8"><div class="flex flex-col lg:flex-row lg:items-center justify-between gap-6 mb-10"><div><h1 class="text-3xl font-bold text-white flex items-center gap-3"><!> Diseñador de Clases</h1> <p class="mt-2 text-slate-400 max-w-xl">Crea el flujo perfecto para tu próxima clase. Arrastra
                conceptos, ajusta tiempos y guarda tus mejores sesiones.</p></div> <div class="flex items-center gap-4 bg-slate-900/50 p-2 rounded-2xl border border-slate-700/50 backdrop-blur-sm"><div class="px-4 py-2 border-r border-slate-700"><div class="text-xs text-slate-500 font-bold uppercase tracking-wider">Duración Total</div> <div class="text-2xl font-bold text-white flex items-center gap-2"><!> <span class="text-sm text-slate-500 font-normal">min</span></div></div> <button class="bg-indigo-600 hover:bg-indigo-500 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 transition-all hover:scale-105 shadow-lg shadow-indigo-900/20"><!> Guardar</button></div></div> <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"><div class="lg:col-span-8 space-y-6"><div class="bg-slate-900 border border-slate-700 rounded-2xl p-6 shadow-xl"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="space-y-2"><label class="text-sm font-semibold text-slate-300 ml-1" for="plan-title">Título de la Sesión</label> <input id="plan-title" type="text" class="w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none transition-all font-medium text-lg placeholder-slate-600" placeholder="Ej. Iniciación a la Defensa Siciliana"/></div> <div class="space-y-2"><label class="text-sm font-semibold text-slate-300 ml-1" for="class-select">Asignar a Grupo</label> <select id="class-select" class="w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none transition-all"><option>-- General (Sin asignar) --</option><!></select></div></div></div> <div class="relative min-h-[400px]"><!> <!></div></div> <div class="lg:col-span-4 space-y-8 sticky top-24"><div class="bg-slate-900 border border-slate-700 rounded-2xl p-6 shadow-xl"><h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2"><!> Bloques</h3> <div class="grid grid-cols-1 gap-3"></div></div> <div class="bg-slate-900 border border-slate-700 rounded-2xl p-6 shadow-xl"><h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2"><!> Plantillas Guardadas</h3> <div class="space-y-3 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar svelte-dot0uw"></div></div></div></div></div> <!>`,1);function Aa(J,z){Mt(z,!1);const B=()=>Dt(Gt,"$appStore",K),[K,Q]=Pt(),k=x(),P=x();let D=x("Nueva Clase Maestra"),I=x(""),d=x([]),$e=x([]);const G={opening:{label:"Apertura",icon:Rt,color:"text-amber-400",bg:"bg-amber-500/10",border:"border-amber-500/20",hover:"hover:border-amber-500/50",defaultDuration:15,defaultTitle:"Teoría de Aperturas"},tactics:{label:"Táctica",icon:Qt,color:"text-red-400",bg:"bg-red-500/10",border:"border-red-500/20",hover:"hover:border-red-500/50",defaultDuration:15,defaultTitle:"Ejercicios de Cálculo"},strategy:{label:"Estrategia",icon:Kt,color:"text-indigo-400",bg:"bg-indigo-500/10",border:"border-indigo-500/20",hover:"hover:border-indigo-500/50",defaultDuration:20,defaultTitle:"Conceptos Estratégicos"},endgame:{label:"Finales",icon:Jt,color:"text-blue-400",bg:"bg-blue-500/10",border:"border-blue-500/20",hover:"hover:border-blue-500/50",defaultDuration:15,defaultTitle:"Técnica de Finales"},game:{label:"Práctica",icon:Yt,color:"text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",hover:"hover:border-emerald-500/50",defaultDuration:30,defaultTitle:"Partidas de Entrenamiento"},analysis:{label:"Análisis",icon:Ze,color:"text-slate-400",bg:"bg-slate-500/10",border:"border-slate-500/20",hover:"hover:border-slate-500/50",defaultDuration:20,defaultTitle:"Análisis de Partida"}};function at(r){const s=G[r];v(d,[...e(d),{id:crypto.randomUUID(),type:r,title:s.defaultTitle,duration:s.defaultDuration,notes:""}])}function rt(r){v(d,e(d).filter(s=>s.id!==r))}function Se(r,s){if(s==="up"&&r>0){const l=[...e(d)];[l[r-1],l[r]]=[l[r],l[r-1]],v(d,l)}else if(s==="down"&&r<e(d).length-1){const l=[...e(d)];[l[r+1],l[r]]=[l[r],l[r+1]],v(d,l)}}function st(){if(!e(D))return U.error("Por favor, asigna un título a la clase.");if(e(d).length===0)return U.warning("Añade al menos una actividad.");const r={id:crypto.randomUUID(),title:e(D),classId:e(I)||void 0,date:new Date().toISOString().split("T")[0],createdAt:new Date().toISOString(),segments:e(d),totalDuration:e(P)};We.addLessonPlan(r),U.success("Plan de clase guardado con éxito.")}let M=x(!1),R=x(""),W=x(""),N=()=>{},O=x("danger");function ot(r){v(R,"¿Cargar plan?"),v(W,"Cargar este plan reemplazará el trabajo actual. ¿Estás seguro?"),v(O,"warning"),N=()=>{v(D,r.title),v(d,r.segments.map(s=>({...s,id:crypto.randomUUID()}))),v(I,r.classId||""),U.success("Plan cargado.")},v(M,!0)}function lt(r,s){s.stopPropagation(),v(R,"¿Eliminar plantilla?"),v(W,"Esta acción es irreversible."),v(O,"danger"),N=()=>{We.removeLessonPlan(r),U.success("Plantilla eliminada.")},v(M,!0)}function it(){N&&N(),v(M,!1)}ye(()=>B(),()=>{v(k,B())}),ye(()=>e(k),()=>{v($e,e(k).plans||[])}),ye(()=>e(d),()=>{v(P,e(d).reduce((r,s)=>r+(s.duration||0),0))}),Ft(),At();var Te=da(),X=tt(Te),Z=a(X),ee=a(Z),ke=a(ee),dt=a(ke);Vt(dt,{class:"w-8 h-8 text-indigo-500"}),T(),t(ke),T(2),t(ee);var Pe=o(ee,2),te=a(Pe),De=o(a(te),2),Ee=a(De);Zt(Ee,{class:"w-5 h-5 text-indigo-400"});var nt=o(Ee);T(),t(De),t(te);var ae=o(te,2);ae.__click=st;var ct=a(ae);Ht(ct,{class:"w-5 h-5"}),T(),t(ae),t(Pe),t(Z);var je=o(Z,2),re=a(je),se=a(re),Ae=a(se),oe=a(Ae),Ce=o(a(oe),2);V(Ce),t(oe);var Ie=o(oe,2),le=o(a(Ie),2);A(()=>{e(I),H(()=>{e(k)})});var ie=a(le);ie.value=ie.__value="";var vt=o(ie);q(vt,1,()=>(e(k),i(()=>e(k).classes)),we,(r,s)=>{var l=ea(),u=a(l,!0);t(l);var n={};A(()=>{m(u,(e(s),i(()=>e(s).name))),n!==(n=(e(s),i(()=>e(s).id)))&&(l.value=(l.__value=(e(s),i(()=>e(s).id)))??"")}),_(r,l)}),t(le),t(Ie),t(Ae),t(se);var Me=o(se,2),Fe=a(Me);{var pt=r=>{var s=ta();_(r,s)};Qe(Fe,r=>{e(d),i(()=>e(d).length>0)&&r(pt)})}var ut=o(Fe,2);{var bt=r=>{var s=aa(),l=a(s),u=a(l);Wt(u,{class:"w-10 h-10 text-indigo-500 opacity-80"}),t(l),T(4),t(s),Je(1,s,()=>Ot),_(r,s)},gt=r=>{var s=sa(),l=a(s);q(l,11,()=>e(d),g=>g.id,(g,p,b)=>{const c=Ke(()=>(e(p),i(()=>G[e(p).type]||G.analysis)));var w=ra(),f=a(w),C=a(f),E=o(C,2),F=a(E),ve=a(F,!0);t(F);var Ne=o(F,2),pe=a(Ne);pe.__click=()=>Se(e(b),"up");var Oe=o(pe,2);Oe.__click=()=>Se(e(b),"down"),t(Ne),t(E);var Le=o(E,2),ue=a(Le),be=a(ue),L=a(be),_t=a(L);Re(_t,()=>e(c).icon,(y,he)=>{he(y,{class:"w-4 h-4"})}),t(L);var ge=o(L,2),ht=a(ge,!0);t(ge),t(be);var fe=o(be,2);V(fe);var qe=o(fe,2);V(qe),t(ue);var Ve=o(ue,2),me=a(Ve),xe=a(me),He=o(a(xe),2),Ye=a(He);V(Ye),T(2),t(He),t(xe);var wt=o(xe,2);Xt(wt,{class:"w-5 h-5 text-slate-600"}),t(me);var _e=o(me,2);_e.__click=()=>rt(e(p).id);var yt=a(_e);et(yt,{class:"w-5 h-5"}),t(_e),t(Ve),t(Le),t(f),t(w),A((y,he)=>{j(f,1,`bg-slate-900 border ${$(e(c)),i(()=>e(c).border)??""} ${$(e(c)),i(()=>e(c).hover)??""} hover:bg-slate-800/80 transition-all duration-200 rounded-2xl p-1 flex items-stretch group shadow-lg`,"svelte-dot0uw"),j(C,1,`w-2 rounded-l-xl ${y??""}`,"svelte-dot0uw"),m(ve,he),pe.disabled=e(b)===0,Oe.disabled=($(e(b)),e(d),i(()=>e(b)===e(d).length-1)),j(L,1,`p-1.5 rounded-lg ${$(e(c)),i(()=>e(c).bg)??""} ${$(e(c)),i(()=>e(c).color)??""}`,"svelte-dot0uw"),j(ge,1,`text-xs font-bold uppercase ${$(e(c)),i(()=>e(c).color)??""} tracking-wider`,"svelte-dot0uw"),m(ht,($(e(c)),i(()=>e(c).label)))},[()=>($(e(c)),i(()=>e(c).bg.replace("/10","/50"))),()=>($(e(b)),i(()=>(e(b)+1).toString().padStart(2,"0")))]),Y(fe,()=>e(p).title,y=>(e(p).title=y,H(()=>e(d)))),Y(qe,()=>e(p).notes,y=>(e(p).notes=y,H(()=>e(d)))),Y(Ye,()=>e(p).duration,y=>(e(p).duration=y,H(()=>e(d)))),It(w,()=>qt,()=>({duration:300})),Je(3,w,()=>Lt),_(g,w)});var u=o(l,2),n=a(u),h=a(n);t(n),t(u),t(s),A(()=>m(h,`Fin de la sesión (~${e(P)??""} min)`)),_(r,s)};Qe(ut,r=>{e(d),i(()=>e(d).length===0)?r(bt):r(gt,!1)})}t(Me),t(re);var Ue=o(re,2),de=a(Ue),ne=a(de),ft=a(ne);Xe(ft,{class:"w-5 h-5 text-indigo-400"}),T(),t(ne);var ze=o(ne,2);q(ze,5,()=>i(()=>Object.entries(G)),we,(r,s)=>{var l=zt(()=>Bt(e(s),2));let u=()=>e(l)[0],n=()=>e(l)[1];var h=oa();h.__click=()=>at(u());var g=a(h),p=a(g);Re(p,()=>n().icon,(F,ve)=>{ve(F,{class:"w-5 h-5"})}),t(g);var b=o(g,2),c=a(b),w=a(c,!0);t(c);var f=o(c,2),C=a(f);t(f),t(b);var E=o(b,2);Xe(E,{class:"w-4 h-4 text-slate-600 group-hover:text-white"}),t(h),A(()=>{j(h,1,`group flex items-center gap-4 p-3 rounded-xl bg-slate-800/50 hover:bg-slate-800 border border-slate-700/50 ${n(),i(()=>n().hover)??""} transition-all active:scale-95 text-left`,"svelte-dot0uw"),j(g,1,`w-10 h-10 rounded-full ${n(),i(()=>n().bg)??""} flex items-center justify-center ${n(),i(()=>n().color)??""} group-hover:scale-110 transition-transform`,"svelte-dot0uw"),j(c,1,`block text-white font-bold text-sm group-hover:${n(),i(()=>n().color)??""} transition-colors`,"svelte-dot0uw"),m(w,(n(),i(()=>n().label))),m(C,`~${n(),i(()=>n().defaultDuration)??""} min`)}),_(r,h)}),t(ze),t(de);var Be=o(de,2),ce=a(Be),mt=a(ce);Ze(mt,{class:"w-5 h-5 text-slate-400"}),T(),t(ce);var Ge=o(ce,2);q(Ge,5,()=>e($e),we,(r,s)=>{var l=la(),u=a(l);u.__click=()=>ot(e(s));var n=a(u),h=a(n,!0);t(n);var g=o(n,2),p=a(g),b=a(p);t(p);var c=o(p,2),w=a(c);t(c),t(g),t(u);var f=o(u,2);f.__click=E=>lt(e(s).id,E);var C=a(f);et(C,{class:"w-3.5 h-3.5"}),t(f),t(l),A(()=>{m(h,(e(s),i(()=>e(s).title))),m(b,`${e(s),i(()=>e(s).totalDuration)??""} min`),m(w,`${e(s),i(()=>e(s).segments.length)??""} bloques`)}),_(r,l)},r=>{var s=ia();_(r,s)}),t(Ge),t(Be),t(Ue),t(je),t(X);var xt=o(X,2);{let r=Ke(()=>e(O)==="danger"?"Eliminar":"Cargar");Nt(xt,{get title(){return e(R)},get message(){return e(W)},get confirmText(){return e(r)},get type(){return e(O)},get isOpen(){return e(M)},set isOpen(s){v(M,s)},$$events:{confirm:it},$$legacy:!0})}A(()=>m(nt,` ${e(P)??""} `)),Y(Ce,()=>e(D),r=>v(D,r)),Ct(le,()=>e(I),r=>v(I,r)),_(J,Te),Ut(),Q()}kt(["click"]);export{Aa as component};
