import{l as Ze,e as et,g as je,a as x,d as tt,f as g,s as at,b as rt,c as b}from"../chunks/DfPprva0.js";import{I as st,a as ot,i as lt,r as ye,b as $e,e as it,s as nt,t as dt}from"../chunks/SDohX1Oa.js";import{f as se,p as ct,l as vt,h as pt,s as r,t as M,a as ut,b as p,c as t,i as I,g as e,m as T,n as ae,r as a,u as i}from"../chunks/B4zm7d7r.js";import{i as P}from"../chunks/CPpFl6Wl.js";import{b as Ce}from"../chunks/BMuFCVKE.js";import{a as mt,s as Me}from"../chunks/l-0K12sd.js";import{f as ft}from"../chunks/D2R-gXPi.js";import{b as bt}from"../chunks/CLQpBtLO.js";import{C as xt}from"../chunks/DZBQXXAS.js";import{M as _t,E as ht}from"../chunks/CkP46cHH.js";import{n as re}from"../chunks/C0n51YRF.js";import{S as ke}from"../chunks/CaBxdHJy.js";import{P as gt}from"../chunks/MjU8_qJM.js";import{U as Ee}from"../chunks/CxlzOQ1b.js";import{B as wt}from"../chunks/B4FdaYO9.js";import{M as ze}from"../chunks/p-JvZcHE.js";import{T as yt}from"../chunks/BALLaoa6.js";function Se(U,A){const B=Ze(A,["children","$$slots","$$events","$$legacy"]);const O=[["path",{d:"M12 10h.01"}],["path",{d:"M12 14h.01"}],["path",{d:"M12 6h.01"}],["path",{d:"M16 10h.01"}],["path",{d:"M16 14h.01"}],["path",{d:"M16 6h.01"}],["path",{d:"M8 10h.01"}],["path",{d:"M8 14h.01"}],["path",{d:"M8 6h.01"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2"}]];st(U,et({name:"building"},()=>B,{get iconNode(){return O},children:(V,c)=>{var _=je(),n=se(_);ot(n,A,"default",{}),x(V,_)},$$slots:{default:!0}}))}var $t=g('<p class="text-red-400 text-xs mt-1 flex items-center gap-1"><svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg> </p>'),Ct=g('<p class="text-red-400 text-xs mt-1 flex items-center gap-1"><svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg> </p>'),Mt=g('<div class="space-y-4"><div><label for="center-name" class="block text-sm font-medium text-slate-400 mb-1">Nombre del Centro <span class="text-red-400">*</span></label> <input id="center-name" type="text" placeholder="Ej: Colegio San José"/> <!></div> <div><label for="center-location" class="block text-sm font-medium text-slate-400 mb-1">Ubicación <span class="text-red-400">*</span></label> <div class="relative"><!> <input id="center-location" type="text" placeholder="Ciudad, Barrio o Dirección"/></div> <!></div> <div class="flex justify-end gap-3 mt-6"><button class="text-slate-400 hover:text-white px-4 py-2">Cancelar</button> <button class="bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-lg font-medium">Guardar Centro</button></div></div>'),kt=g('<div class="col-span-full"><!></div>'),Et=g('<p class="text-slate-500 text-xs mt-2 line-clamp-2"> </p>'),zt=g('<div class="bg-[#1e293b] border border-slate-800 rounded-2xl p-6 hover:shadow-2xl hover:shadow-blue-500/10 hover:border-blue-500/50 transition-all duration-300 group relative"><button class="absolute top-4 right-4 text-slate-500 hover:text-red-400 hover:bg-slate-800 p-2 rounded-lg transition-colors opacity-0 group-hover:opacity-100" title="Eliminar Centro"><!></button> <div class="flex items-start justify-between mb-4"><div class="bg-blue-500/10 p-3 rounded-xl group-hover:bg-blue-500/20 transition-colors"><!></div></div> <h3 class="text-xl font-bold text-white mb-3 pr-8"> </h3> <div class="space-y-2 mb-6"><div class="flex items-center text-slate-400 text-sm"><!> <span class="truncate"> </span></div> <div class="flex items-center text-slate-400 text-sm"><!> <span> </span></div> <!></div> <a class="block w-full text-center bg-slate-800 text-slate-300 py-2.5 rounded-xl text-sm font-semibold hover:bg-blue-600 hover:text-white transition-all group-hover:bg-blue-600/20 group-hover:text-blue-400">Ver Detalles</a></div>'),St=g('<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-8"><div><h1 class="text-3xl font-bold text-white flex items-center gap-3"><!> Centros Educativos</h1> <p class="mt-2 text-slate-400">Gest iona las escuelas y clubes donde impartes clase.</p></div> <button class="w-full sm:w-auto bg-blue-600 hover:bg-blue-500 text-white px-4 py-3 sm:py-2 rounded-xl font-medium flex items-center justify-center gap-2 transition-colors cursor-pointer shadow-lg shadow-blue-900/20"><!> Nuevo Centro</button></div> <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8"><div class="bg-[#1e293b] border border-slate-800 rounded-xl p-6"><div class="flex items-center justify-between"><div><p class="text-slate-400 text-sm font-medium">Total Centros</p> <p class="text-3xl font-bold text-white mt-1"> </p></div> <div class="bg-blue-500/10 p-3 rounded-lg"><!></div></div></div> <div class="bg-[#1e293b] border border-slate-800 rounded-xl p-6"><div class="flex items-center justify-between"><div><p class="text-slate-400 text-sm font-medium">Total Alumnos</p> <p class="text-3xl font-bold text-white mt-1"> </p></div> <div class="bg-emerald-500/10 p-3 rounded-lg"><!></div></div></div> <div class="bg-[#1e293b] border border-slate-800 rounded-xl p-6"><div class="flex items-center justify-between"><div><p class="text-slate-400 text-sm font-medium">Total Clases</p> <p class="text-3xl font-bold text-white mt-1"> </p></div> <div class="bg-purple-500/10 p-3 rounded-lg"><!></div></div></div></div> <!> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><!></div></div> <!>',1);function Kt(U,A){ct(A,!1);const B=()=>rt(mt,"$appStore",O),[O,V]=at(),c=T();let _=T(!1),n=T({id:"",name:"",location:"",description:""}),l=T({});function Te(){p(l,{});let s=!0;return(!e(n).name||e(n).name.trim().length<3)&&(I(l,e(l).name="El nombre debe tener al menos 3 caracteres"),s=!1),(!e(n).location||e(n).location.trim().length<3)&&(I(l,e(l).location="La ubicación es obligatoria"),s=!1),s}function Ae(){if(!Te()){re.error("Por favor, corrige los errores del formulario");return}const s={...e(n),id:crypto.randomUUID()};Me.addCenter(s),p(n,{id:"",name:"",location:"",description:""}),p(l,{}),p(_,!1),re.success("Centro añadido correctamente")}let F=T(!1),D=null;function Be(s){D=s,p(F,!0)}function De(){D&&(Me.removeCenter(D),re.success("Centro eliminado correctamente."),D=null)}function Ne(s){const f=e(c).classes.filter(v=>v.centerId===s),u=new Set;return f.forEach(v=>{v.students.forEach(o=>u.add(o))}),u.size}function oe(){p(l,{}),p(_,!0)}vt(()=>B(),()=>{p(c,B())}),pt(),lt();var le=St(),G=se(le),L=t(G),q=t(L),ie=t(q),Ie=t(ie);ke(Ie,{class:"w-8 h-8 text-blue-500"}),ae(),a(ie),ae(2),a(q);var J=r(q,2);J.__click=oe;var Pe=t(J);gt(Pe,{class:"w-5 h-5"}),ae(),a(J),a(L);var H=r(L,2),K=t(H),ne=t(K),Q=t(ne),de=r(t(Q),2),Ue=t(de,!0);a(de),a(Q);var ce=r(Q,2),Oe=t(ce);Se(Oe,{class:"w-6 h-6 text-blue-500"}),a(ce),a(ne),a(K);var R=r(K,2),ve=t(R),W=t(ve),pe=r(t(W),2),Ve=t(pe,!0);a(pe),a(W);var ue=r(W,2),Fe=t(ue);Ee(Fe,{class:"w-6 h-6 text-emerald-500"}),a(ue),a(ve),a(R);var me=r(R,2),fe=t(me),X=t(fe),be=r(t(X),2),Ge=t(be,!0);a(be),a(X);var xe=r(X,2),Le=t(xe);wt(Le,{class:"w-6 h-6 text-purple-500"}),a(xe),a(fe),a(me),a(H);var _e=r(H,2);_t(_e,{title:"Añadir Nuevo Centro",size:"md",get isOpen(){return e(_)},set isOpen(s){p(_,s)},children:(s,f)=>{var u=Mt(),v=t(u),o=r(t(v),2);ye(o);var Y=r(o,2);{var w=d=>{var m=$t(),S=r(t(m));a(m),M(()=>b(S,` ${e(l),i(()=>e(l).name)??""}`)),x(d,m)};P(Y,d=>{e(l),i(()=>e(l).name)&&d(w)})}a(v);var h=r(v,2),k=r(t(h),2),y=t(k);ze(y,{class:"absolute left-3 top-3.5 w-4 h-4 text-slate-500"});var $=r(y,2);ye($),a(k);var Z=r(k,2);{var E=d=>{var m=Ct(),S=r(t(m));a(m),M(()=>b(S,` ${e(l),i(()=>e(l).location)??""}`)),x(d,m)};P(Z,d=>{e(l),i(()=>e(l).location)&&d(E)})}a(h);var N=r(h,2),C=t(N);C.__click=()=>p(_,!1);var z=r(C,2);z.__click=Ae,a(N),a(u),M(()=>{$e(o,1,`w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 ${e(l),i(()=>e(l).name?"border-red-500 focus:border-red-500 focus:ring-red-500/50":"")??""}`),$e($,1,`w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-3 text-white focus:outline-none focus:border-blue-500 ${e(l),i(()=>e(l).location?"border-red-500 focus:border-red-500 focus:ring-red-500/50":"")??""}`)}),Ce(o,()=>e(n).name,d=>I(n,e(n).name=d)),Ce($,()=>e(n).location,d=>I(n,e(n).location=d)),x(s,u)},$$slots:{default:!0},$$legacy:!0});var he=r(_e,2),qe=t(he);{var Je=s=>{var f=kt(),u=t(f);ht(u,{get icon(){return ke},title:"No hay centros registrados",description:"Añade tu primer centro educativo para empezar a organizar tus clases y alumnos.",actionLabel:"Añadir Centro",$$events:{action:oe}}),a(f),x(s,f)},He=s=>{var f=je(),u=se(f);it(u,3,()=>(e(c),i(()=>e(c).centers)),v=>v.id,(v,o,Y)=>{var w=zt(),h=t(w);h.__click=()=>Be(e(o).id);var k=t(h);yt(k,{class:"w-4 h-4"}),a(h);var y=r(h,2),$=t(y),Z=t($);Se(Z,{class:"w-7 h-7 text-blue-500"}),a($),a(y);var E=r(y,2),N=t(E,!0);a(E);var C=r(E,2),z=t(C),d=t(z);ze(d,{class:"w-4 h-4 mr-2 flex-shrink-0"});var m=r(d,2),S=t(m,!0);a(m),a(z);var ee=r(z,2),ge=t(ee);Ee(ge,{class:"w-4 h-4 mr-2 flex-shrink-0"});var we=r(ge,2),Qe=t(we);a(we),a(ee);var Re=r(ee,2);{var We=j=>{var te=Et(),Ye=t(te,!0);a(te),M(()=>b(Ye,(e(o),i(()=>e(o).description)))),x(j,te)};P(Re,j=>{e(o),i(()=>e(o).description)&&j(We)})}a(C);var Xe=r(C,2);a(w),M(j=>{b(N,(e(o),i(()=>e(o).name))),b(S,(e(o),i(()=>e(o).location))),b(Qe,`${j??""} Alumnos`),nt(Xe,"href",`${bt??""}/panel/centros/${e(o),i(()=>e(o).id)??""}`)},[()=>(e(o),i(()=>Ne(e(o).id)))]),dt(1,w,()=>ft,()=>({y:20,duration:400,delay:e(Y)*50})),x(v,w)}),x(s,f)};P(qe,s=>{e(c),i(()=>e(c).centers.length===0)?s(Je):s(He,!1)})}a(he),a(G);var Ke=r(G,2);xt(Ke,{title:"¿Eliminar centro?",message:"Esta acción eliminará el centro y todas las clases asociadas a él.",confirmText:"Eliminar Centro",get isOpen(){return e(F)},set isOpen(s){p(F,s)},$$events:{confirm:De},$$legacy:!0}),M(()=>{b(Ue,(e(c),i(()=>e(c).centers.length))),b(Ve,(e(c),i(()=>e(c).students.length))),b(Ge,(e(c),i(()=>e(c).classes.length)))}),x(U,le),ut(),V()}tt(["click"]);export{Kt as component};
