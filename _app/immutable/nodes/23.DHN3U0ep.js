import{l as er,e as tr,g as yt,a as d,d as ar,b as la,f as v,s as rr,c as n}from"../chunks/DfPprva0.js";import{I as sr,a as lr,i as or,s as me,b as G,r as ir,t as Je,e as ge,d as ke}from"../chunks/SDohX1Oa.js";import{f as Me,p as dr,m as O,b as p,l as he,h as nr,a as vr,g as e,s as r,c as a,r as t,t as q,n as k,u as l,j as Be,v as U}from"../chunks/B4zm7d7r.js";import{i as j}from"../chunks/CPpFl6Wl.js";import{b as cr}from"../chunks/BMuFCVKE.js";import{p as xr}from"../chunks/DojiiGNW.js";import{g as ur}from"../chunks/BIUMDTLF.js";import{n as De}from"../chunks/C0n51YRF.js";import{a as oa,s as Ie}from"../chunks/l-0K12sd.js";import{b as pr,c as br}from"../chunks/CaXS0ZTw.js";import{a as wt,f as fr}from"../chunks/D2R-gXPi.js";import{b as Ve}from"../chunks/CLQpBtLO.js";import{C as mr}from"../chunks/DZBQXXAS.js";import{A as gr}from"../chunks/QyzqHlA1.js";import{C as hr}from"../chunks/BilkHblz.js";import{S as Te,F as _r}from"../chunks/BCqkutAZ.js";import{U as Ge}from"../chunks/CxlzOQ1b.js";import{C as wr}from"../chunks/C5cdKR88.js";import{T as ia}from"../chunks/BALLaoa6.js";import{T as da}from"../chunks/BSZTvWx9.js";import{M as yr}from"../chunks/DlICbA84.js";import{T as na}from"../chunks/g4oizyDh.js";import{U as kr}from"../chunks/B8Kjdszw.js";import{D as Ir}from"../chunks/DvXvGZtu.js";import{P as Tr}from"../chunks/MjU8_qJM.js";import{P as $r}from"../chunks/KWQ1fxel.js";function jr(qe,ze){const We=er(ze,["children","$$slots","$$events","$$legacy"]);const He=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21"}]];sr(qe,tr({name:"monitor"},()=>We,{get iconNode(){return He},children:(Re,kt)=>{var D=yt(),_e=Me(D);lr(_e,ze,"default",{}),d(Re,D)},$$slots:{default:!0}}))}const Pr=!1,Cr=!1,Ms=Object.freeze(Object.defineProperty({__proto__:null,prerender:Pr,ssr:Cr},Symbol.toStringTag,{value:"Module"}));var Er=v('<div class="text-center text-slate-500 mt-20"><h2 class="text-2xl font-bold text-white mb-4">Torneo no encontrado</h2> <a class="text-emerald-400 hover:underline">Volver a la lista</a></div>'),Sr=v('<div class="bg-slate-900/50 border border-slate-700/50 rounded-2xl p-4 min-w-[160px]"><div class="text-xs text-slate-500 uppercase font-bold tracking-wider mb-2">Líder Actual</div> <div class="flex items-center gap-3"><div class="w-10 h-10 rounded-full bg-yellow-500/10 flex items-center justify-center border border-yellow-500/20 text-yellow-500"><!></div> <div><div class="font-bold text-white text-lg"> </div> <div class="text-xs text-yellow-500 font-medium"> </div></div></div></div>'),Br=v('<button class="bg-blue-600/20 text-blue-400 border border-blue-600/30 hover:bg-blue-600 hover:text-white px-4 py-2 rounded-xl text-sm font-semibold flex items-center gap-2 transition-colors"><!> Finalizar Torneo</button>'),Dr=v("<span> </span>"),Mr=v('<button class="flex items-center justify-between p-2 bg-slate-700/50 hover:bg-emerald-600/20 border border-slate-600 hover:border-emerald-500/50 rounded-lg group transition-all"><span class="text-sm text-slate-200"> </span> <!></button>'),zr=v('<div class="bg-slate-800 border-b border-slate-700 p-2 max-h-48 overflow-y-auto shadow-inner"><div class="text-xs font-bold text-slate-500 uppercase px-2 mb-2"> </div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-2"></div></div>'),Rr=v('<div class="h-64 flex flex-col items-center justify-center text-slate-500"><!> <p>No hay jugadores inscritos todavía.</p></div>'),Ar=v('<tr class="hover:bg-slate-800/50 transition-colors group"><td class="p-4 text-center text-slate-500 font-mono"></td><td class="p-4 font-medium text-white flex items-center gap-3"><div class="w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-slate-300"> </div> </td><td class="p-4"><span class="px-2 py-1 rounded bg-slate-800 text-slate-400 border border-slate-700 text-xs"> </span></td><td class="p-4 text-center"><button class="text-slate-500 hover:text-red-400 hover:bg-red-500/10 p-2 rounded-lg transition-colors" title="Eliminar del torneo"><!></button></td></tr>'),Nr=v('<table class="w-full text-left border-collapse"><thead class="bg-slate-900/30 text-slate-400 text-xs uppercase font-bold tracking-wider"><tr><th class="p-4 w-16 text-center">#</th><th class="p-4">Jugador</th><th class="p-4 w-32">Nivel</th><th class="p-4 w-20 text-center">Acciones</th></tr></thead><tbody class="divide-y divide-slate-700/50 text-sm"></tbody></table>'),Or=v('<div><div class="bg-[#1e293b] border border-slate-700 rounded-2xl overflow-hidden min-h-[500px] flex flex-col"><div class="p-4 bg-slate-900/50 border-b border-slate-700 flex flex-col sm:flex-row gap-4 justify-between items-center"><h2 class="font-bold text-white flex items-center gap-2"><!> Lista de Inscritos</h2> <div class="bg-slate-900 border border-slate-700 rounded-lg flex items-center px-3 py-2 w-full sm:w-64"><!> <input type="text" placeholder="Buscar para añadir..." class="bg-transparent border-none focus:outline-none text-white text-sm w-full placeholder:text-slate-600"/></div></div> <!> <div class="flex-1 overflow-x-auto"><!></div></div></div>'),Fr=v('<div class="hidden sm:flex items-center gap-2 px-3 py-1.5 bg-amber-500/10 border border-amber-500/20 rounded-lg text-amber-500 text-xs font-bold uppercase animate-pulse"><div class="w-2 h-2 rounded-full bg-amber-500"></div> Ronda en curso</div>'),Ur=v('<div class="flex gap-3 items-center"><!> <button><!> </button></div>'),Yr=v('<button class="bg-orange-600 hover:bg-orange-500 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 transition-all shadow-lg shadow-orange-900/20 active:scale-95 btn-bounce"><!> Generar Primera Ronda</button>'),Lr=v(`<div class="flex flex-col items-center justify-center p-12 bg-[#1e293b] border border-slate-700/50 rounded-2xl border-dashed"><!> <h3 class="text-xl font-bold text-white mb-2">Comienza la Acción</h3> <p class="text-slate-400 text-center max-w-sm">Genera la primera ronda para emparejar a los
                                    jugadores inscritos.</p></div>`),Jr=v("<button> </button>"),Vr=v('<div class="flex gap-1.5 bg-slate-900/40 p-1 rounded-lg border border-white/5 sm:min-w-[140px]"></div>'),Gr=v('<div class="text-center px-3 py-1.5 text-xs text-emerald-400 font-bold bg-emerald-500/10 rounded-lg border border-emerald-500/20 sm:min-w-[140px]">Bye</div>'),qr=v("<button> </button>"),Wr=v('<div class="grid grid-cols-3 gap-2 pt-4 border-t border-white/5"></div>'),Hr=v(`<div class="text-center py-2 pt-4 border-t border-white/5 text-sm text-emerald-400 font-bold">Victoria
                                                                Automática (Bye)</div>`),Kr=v('<div class="relative overflow-hidden rounded-2xl bg-white/5 backdrop-blur-sm border border-white/10 group hover:border-white/20 transition-all duration-300 hover:shadow-2xl hover:shadow-black/50"><div class="absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"></div> <div class="relative p-4 flex flex-col gap-4"><div class="flex flex-col sm:flex-row items-stretch gap-3"><div class="flex-1 flex items-center justify-between gap-3 min-w-0"><div class="flex items-center gap-2 flex-1 min-w-0"><div class="w-10 h-10 rounded-full bg-gradient-to-br from-slate-200 to-slate-400 p-0.5 shadow-lg flex-shrink-0"><div class="w-full h-full rounded-full bg-slate-100 flex items-center justify-center text-slate-800 font-black text-sm"> </div></div> <div class="flex flex-col min-w-0"><div class="font-bold text-white text-sm leading-tight truncate"> </div> <span class="text-[10px] text-slate-400 uppercase tracking-wide">Blancas</span></div></div> <div class="flex-shrink-0 px-2"><span class="text-sm font-black italic text-slate-600">VS</span></div> <div class="flex items-center gap-2 flex-1 min-w-0"><div class="w-10 h-10 rounded-full bg-gradient-to-br from-slate-700 to-slate-900 p-0.5 shadow-lg flex-shrink-0"><div class="w-full h-full rounded-full bg-slate-800 flex items-center justify-center text-slate-200 font-black text-sm"> </div></div> <div class="flex flex-col min-w-0"><div class="font-bold text-white text-sm leading-tight truncate"> </div> <span class="text-[10px] text-slate-500 uppercase tracking-wide">Negras</span></div></div></div> <!></div></div> <div class="hidden"><div class="flex items-center justify-between gap-4"><div class="flex-1 flex flex-col items-center text-center gap-3"><div class="w-14 h-14 sm:w-16 sm:h-16 rounded-full bg-gradient-to-br from-slate-200 to-slate-400 p-1 shadow-lg shadow-white/5"><div class="w-full h-full rounded-full bg-slate-100 flex items-center justify-center text-slate-800 font-black text-xl"> </div></div> <div class="min-w-0 w-full"><div class="font-bold text-white text-base sm:text-lg leading-tight truncate px-1"> </div> <div class="text-[10px] bg-slate-100/10 text-slate-300 px-2 py-0.5 rounded-full inline-block mt-1 font-bold uppercase tracking-wider">Blancas</div></div></div> <div class="flex flex-col items-center justify-center z-10"><span class="text-2xl font-black italic text-slate-700/50">VS</span></div> <div class="flex-1 flex flex-col items-center text-center gap-3"><div class="w-14 h-14 sm:w-16 sm:h-16 rounded-full bg-gradient-to-br from-slate-700 to-slate-900 p-1 shadow-lg shadow-black/50"><div class="w-full h-full rounded-full bg-slate-800 flex items-center justify-center text-slate-200 font-black text-xl"> </div></div> <div class="min-w-0 w-full"><div class="font-bold text-white text-base sm:text-lg leading-tight truncate px-1"> </div> <div class="text-[10px] bg-black/30 text-slate-400 px-2 py-0.5 rounded-full inline-block mt-1 font-bold uppercase tracking-wider">Negras</div></div></div></div> <!></div></div>'),Qr=v('<div class="bg-[#1e293b] border border-slate-700 rounded-2xl overflow-hidden shadow-xl"><div class="px-6 py-4 bg-slate-900 border-b border-slate-700 flex justify-between items-center"><h3 class="font-bold text-lg text-white flex items-center gap-2"><span class="w-8 h-8 rounded-lg bg-slate-800 flex items-center justify-center text-sm border border-slate-700"> </span> </h3> <button class="text-slate-400 hover:text-white px-3 py-1.5 rounded-lg text-xs font-bold uppercase tracking-wider flex items-center gap-2 transition-colors border border-slate-700 hover:bg-slate-800"><!> Imprimir</button></div> <div class="p-4 grid gap-4 grid-cols-1 md:grid-cols-2"></div></div>'),Xr=v('<div class="space-y-8"></div>'),Zr=v('<div><div class="flex flex-col sm:flex-row justify-between items-center mb-6 gap-4"><h2 class="text-xl font-bold text-white flex items-center gap-2"><!> Emparejamientos</h2> <!></div> <!></div>'),es=v('<div class="w-8 h-8 rounded-full bg-yellow-500/20 text-yellow-500 mx-auto flex items-center justify-center border border-yellow-500/30"><!></div>'),ts=v('<div class="w-8 h-8 rounded-full bg-slate-400/20 text-slate-300 mx-auto flex items-center justify-center border border-slate-400/30 font-bold text-sm">2</div>'),as=v('<div class="w-8 h-8 rounded-full bg-amber-700/20 text-amber-600 mx-auto flex items-center justify-center border border-amber-700/30 font-bold text-sm">3</div>'),rs=v('<span class="text-slate-500 font-mono"></span>'),ss=v('<tr><td class="p-4 text-center"><!></td><td class="p-4"><div> </div> <div class="text-xs text-slate-500"> </div></td><td class="p-4 text-center text-slate-400 font-medium"> </td><td> </td><td class="p-4 text-right text-slate-500 text-sm font-mono"> </td></tr>'),ls=v('<div class="bg-[#1e293b] border border-slate-700 rounded-2xl overflow-hidden shadow-xl"><div class="p-5 bg-slate-900/50 border-b border-slate-700 flex justify-between items-center"><h3 class="font-bold text-white flex items-center gap-2"><!> Tabla de Posiciones</h3> <button class="bg-orange-600/20 text-orange-400 border border-orange-600/30 hover:bg-orange-600 hover:text-white px-3 py-2 rounded-lg text-sm font-semibold flex items-center gap-2 transition-colors"><!> Exportar PDF</button></div> <div class="overflow-x-auto"><table class="w-full text-left border-collapse"><thead class="bg-slate-900/80 text-slate-400 font-bold text-xs uppercase tracking-wider"><tr><th class="p-4 w-16 text-center">Pos</th><th class="p-4">Jugador</th><th class="p-4 text-center w-24">Partidas</th><th class="p-4 text-right w-24">Puntos</th><th class="p-4 text-right text-xs w-24" title="Buchholz: Suma de puntos de los rivales">Tie-Break</th></tr></thead><tbody class="divide-y divide-slate-700/50"></tbody></table></div></div>'),os=v('<a class="inline-flex items-center text-slate-400 hover:text-white transition-colors"><!> Volver a Torneos</a> <div class="bg-[#1e293b] border border-slate-700/50 rounded-3xl p-6 lg:p-8 relative overflow-hidden"><div class="absolute top-0 right-0 w-64 h-64 bg-orange-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"></div> <div class="relative z-10 flex flex-col md:flex-row justify-between gap-6"><div class="flex-1"><div><span></span> </div> <h1 class="text-4xl font-bold text-white mb-4 flex items-center gap-4"> <!></h1> <div class="flex flex-wrap gap-4 text-slate-400 text-sm"><div class="flex items-center gap-2 bg-slate-900/50 px-3 py-1.5 rounded-lg"><!> </div> <div class="flex items-center gap-2 bg-slate-900/50 px-3 py-1.5 rounded-lg"><!> </div> <div class="flex items-center gap-2 bg-slate-900/50 px-3 py-1.5 rounded-lg"><!> </div></div></div> <div class="flex gap-4"><!> <div class="bg-slate-900/50 border border-slate-700/50 rounded-2xl p-4 min-w-[140px]"><div class="text-xs text-slate-500 uppercase font-bold tracking-wider mb-2">Rondas Jugadas</div> <div class="flex items-center gap-3"><div class="w-10 h-10 rounded-full bg-indigo-500/10 flex items-center justify-center border border-indigo-500/20 text-indigo-500"><!></div> <div><div class="font-bold text-white text-2xl"> </div></div></div></div></div></div> <div class="flex gap-2 mt-8 pt-6 border-t border-slate-700/50"><a target="_blank" class="bg-slate-800 text-slate-300 hover:bg-slate-700 hover:text-white px-4 py-2 rounded-xl text-sm font-semibold flex items-center gap-2 transition-colors border border-slate-700"><!> Modo Pantalla Gigante</a> <div class="flex-1"></div> <!> <button class="bg-red-500/10 text-red-400 border border-red-500/20 hover:bg-red-500 hover:text-white px-4 py-2 rounded-xl text-sm font-semibold flex items-center gap-2 transition-colors"><!> Eliminar</button></div></div> <div class="grid grid-cols-1 lg:grid-cols-4 gap-8"><div class="lg:col-span-1 space-y-4"><nav class="flex flex-col gap-2"><button><span class="flex items-center gap-3"><!> Participantes</span> <span> </span></button> <button><span class="flex items-center gap-3"><!> Rondas y Partidas</span> <!></button> <button><span class="flex items-center gap-3"><!> Clasificación</span></button></nav> <div class="bg-[#1e293b] border border-slate-700/50 rounded-2xl p-5 mt-6"><h4 class="text-slate-300 font-bold mb-3 text-sm">Detalles del Formato</h4> <ul class="space-y-3 text-sm text-slate-400"><li class="flex justify-between border-b border-slate-800 pb-2"><span>Sistema</span> <span class="text-white"> </span></li> <li class="flex justify-between border-b border-slate-800 pb-2"><span>Puntuación</span> <span class="text-white">1 / 0.5 / 0</span></li> <li class="flex justify-between"><span>Desempate</span> <span class="text-white">Buchholz</span></li></ul></div></div> <div class="lg:col-span-3"><!> <!> <!></div></div>',1),is=v('<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8"><!></div> <!>',1);function zs(qe,ze){dr(ze,!1);const We=()=>la(oa,"$appStore",Re),He=()=>la(xr,"$page",Re),[Re,kt]=rr(),D=O(),_e=O(),P=O(),Ae=O(),we=O(),$e=O(),It=["1-0","0.5-0.5","0-1"];let W=O(We());oa.subscribe(o=>p(W,o));let va=He().params.id,s=O(),H=O("participants"),ye=O(""),je=O(!1),Ke=O(""),Qe=O(""),Ne=null,Xe=O("danger"),Ze=O("Confirmar");function ca(){e(s)&&(p(Ke,"¿Finalizar Torneo?"),p(Qe,"¿Estás seguro de finalizar el torneo? No se podrán crear más rondas y se calcularán los resultados finales."),p(Xe,"warning"),p(Ze,"Finalizar"),Ne=()=>{Ie.updateTournament({...e(s),status:"Completed"}),De.success("Torneo finalizado.")},p(je,!0))}function xa(){e(s)&&(p(Ke,"Eliminar Torneo"),p(Qe,"ATENCIÓN: ¿Eliminar este torneo y todos sus datos? Esta acción es irreversible."),p(Xe,"danger"),p(Ze,"Eliminar"),Ne=()=>{Ie.removeTournament(e(s).id),ur(`${Ve}/panel/torneos`),De.success("Torneo eliminado.")},p(je,!0))}function ua(){Ne&&Ne(),p(je,!1)}function pa(o){if(!e(s))return;const i={...e(s),participants:[...e(s).participants,o]};Ie.updateTournament(i),De.success("Jugador añadido")}function ba(o){if(!e(s))return;const i={...e(s),participants:e(s).participants.filter(I=>I!==o)};Ie.updateTournament(i),De.success("Jugador eliminado")}function Tt(){if(!e(s)||e(D).length<2)return;const o=e(P).length>0?Math.max(...e(P))+1:1,i=[];let $=[...e(D).map(T=>{let C=0;return e(s)?.matches.forEach(M=>{M.result&&(M.whiteId===T.id&&(M.result==="1-0"&&(C+=1),M.result==="0.5-0.5"&&(C+=.5)),M.blackId===T.id&&(M.result==="0-1"&&(C+=1),M.result==="0.5-0.5"&&(C+=.5)))}),{...T,points:C}})].sort((T,C)=>C.points-T.points||.5-Math.random());for(;$.length>0;){const T=$.shift();if($.length===0){i.push({id:crypto.randomUUID(),round:o,whiteId:T.id,blackId:"BYE",result:"1-0"});break}let C=0;for(let se=0;se<$.length;se++){const Oe=$[se];if(!e(s).matches.some(xe=>xe.whiteId===T.id&&xe.blackId===Oe.id||xe.blackId===T.id&&xe.whiteId===Oe.id)){C=se;break}}const M=$.splice(C,1)[0];i.push({id:crypto.randomUUID(),round:o,whiteId:T.id,blackId:M.id,result:null})}const ve={...e(s),status:"Ongoing",matches:[...e(s).matches,...i]};Ie.updateTournament(ve),p(H,"matches"),De.success(`Ronda ${o} generada`)}function $t(o,i){if(!e(s))return;const I=e(s).matches.map($=>$.id===o?{...$,result:i}:$);Ie.updateTournament({...e(s),matches:I})}function jt(o){return o==="BYE"?"Descanso (Bye)":e(W).students.find(i=>i.id===o)?.name||"Desconocido"}he(()=>e(W),()=>{p(s,e(W).tournaments.find(o=>o.id===va))}),he(()=>(e(s),e(W)),()=>{p(D,e(s)?e(W).students.filter(o=>e(s)?.participants.includes(o.id)):[])}),he(()=>(e(s),e(W),e(ye)),()=>{p(_e,e(s)?e(W).students.filter(o=>!e(s)?.participants.includes(o.id)&&o.name.toLowerCase().includes(e(ye).toLowerCase())):[])}),he(()=>e(s),()=>{p(P,e(s)?[...new Set(e(s).matches.map(o=>o.round))].sort((o,i)=>o-i):[])}),he(()=>e(P),()=>{p(Ae,e(P).length>0?Math.max(...e(P)):0)}),he(()=>(e(s),e(D)),()=>{p($e,(()=>{if(!e(s))return[];const o=new Map;return e(D).forEach(i=>o.set(i.id,0)),o.set("BYE",0),e(s).matches.forEach(i=>{if(i.result){const I=o.get(i.whiteId)||0,$=o.get(i.blackId)||0;i.result==="1-0"?o.set(i.whiteId,I+1):i.result==="0-1"?o.set(i.blackId,$+1):i.result==="0.5-0.5"&&(o.set(i.whiteId,I+.5),o.set(i.blackId,$+.5))}}),e(D).map(i=>{const I=o.get(i.id)||0;let $=0,ve=0;return e(s)?.matches.forEach(T=>{const C=T.whiteId===i.id,M=T.blackId===i.id;if(C||M){ve++;const se=C?T.blackId:T.whiteId;$+=o.get(se)||0}}),{...i,points:I,buchholz:$,games:ve}}).sort((i,I)=>I.points-i.points||I.buchholz-i.buchholz)})())}),he(()=>e($e),()=>{p(we,e($e).length>0?e($e)[0]:null)}),nr(),or();var Pt=is(),et=Me(Pt),fa=a(et);{var ma=o=>{var i=Er(),I=r(a(i),2);t(i),q(()=>me(I,"href",`${Ve??""}/panel/torneos`)),d(o,i)},ga=o=>{var i=os(),I=Me(i),$=a(I);gr($,{class:"w-4 h-4 mr-2"}),k(),t(I);var ve=r(I,2),T=r(a(ve),2),C=a(T),M=a(C),se=a(M),Oe=r(se);t(M);var Fe=r(M,2),xe=a(Fe),_a=r(xe);{var wa=c=>{yr(c,{class:"w-8 h-8 text-yellow-500"})};j(_a,c=>{e(s),l(()=>e(s).status==="Completed")&&c(wa)})}t(Fe);var Ct=r(Fe,2),tt=a(Ct),Et=a(tt);hr(Et,{class:"w-4 h-4 text-slate-500"});var ya=r(Et);t(tt);var at=r(tt,2),St=a(at);Te(St,{class:"w-4 h-4 text-slate-500"});var ka=r(St);t(at);var Bt=r(at,2),Dt=a(Bt);Ge(Dt,{class:"w-4 h-4 text-slate-500"});var Ia=r(Dt);t(Bt),t(Ct),t(C);var Mt=r(C,2),zt=a(Mt);{var Ta=c=>{var x=Sr(),E=r(a(x),2),A=a(E),le=a(A);na(le,{class:"w-5 h-5"}),t(A);var Z=r(A,2),ee=a(Z),oe=a(ee,!0);t(ee);var te=r(ee,2),ie=a(te);t(te),t(Z),t(E),t(x),q(de=>{n(oe,de),n(ie,`${e(we),l(()=>e(we).points)??""} Pts`)},[()=>(e(we),l(()=>e(we).name.split(" ")[0]))]),d(c,x)};j(zt,c=>{e(we)&&c(Ta)})}var Rt=r(zt,2),At=r(a(Rt),2),rt=a(At),$a=a(rt);wr($a,{class:"w-5 h-5"}),t(rt);var Nt=r(rt,2),Ot=a(Nt),ja=a(Ot,!0);t(Ot),t(Nt),t(At),t(Rt),t(Mt),t(T);var Ft=r(T,2),Ue=a(Ft),Pa=a(Ue);jr(Pa,{class:"w-4 h-4"}),k(),t(Ue);var Ut=r(Ue,4);{var Ca=c=>{var x=Br();x.__click=ca;var E=a(x);_r(E,{class:"w-4 h-4"}),k(),t(x),d(c,x)};j(Ut,c=>{e(s),l(()=>e(s).status==="Ongoing")&&c(Ca)})}var st=r(Ut,2);st.__click=xa;var Ea=a(st);ia(Ea,{class:"w-4 h-4"}),k(),t(st),t(Ft),t(ve);var Yt=r(ve,2),lt=a(Yt),ot=a(lt),Pe=a(ot);Pe.__click=()=>p(H,"participants");var it=a(Pe),Sa=a(it);Ge(Sa,{class:"w-5 h-5"}),k(),t(it);var dt=r(it,2),Ba=a(dt,!0);t(dt),t(Pe);var Ce=r(Pe,2);Ce.__click=()=>p(H,"matches");var nt=a(Ce),Da=a(nt);Te(Da,{class:"w-5 h-5"}),k(),t(nt);var Ma=r(nt,2);{var za=c=>{var x=Dr(),E=a(x);t(x),q(()=>{G(x,1,`text-xs bg-black/20 px-2 py-0.5 rounded-full ${e(H)==="matches"?"text-white":"text-slate-500"}`),n(E,`R${e(Ae)??""}`)}),d(c,x)};j(Ma,c=>{e(Ae)>0&&c(za)})}t(Ce);var Ye=r(Ce,2);Ye.__click=()=>p(H,"standings");var Lt=a(Ye),Ra=a(Lt);da(Ra,{class:"w-5 h-5"}),k(),t(Lt),t(Ye),t(ot);var Jt=r(ot,2),Vt=r(a(Jt),2),Gt=a(Vt),qt=r(a(Gt),2),Aa=a(qt,!0);t(qt),t(Gt),k(4),t(Vt),t(Jt),t(lt);var Wt=r(lt,2),Ht=a(Wt);{var Na=c=>{var x=Or(),E=a(x),A=a(E),le=a(A),Z=a(le);Ge(Z,{class:"w-5 h-5 text-orange-500"}),k(),t(le);var ee=r(le,2),oe=a(ee);kr(oe,{class:"w-4 h-4 text-slate-500 mr-2"});var te=r(oe,2);ir(te),t(ee),t(A);var ie=r(A,2);{var de=g=>{var w=zr(),R=a(w),S=a(R,!0);t(R);var y=r(R,2);ge(y,5,()=>e(_e),ke,(ne,h)=>{var Y=Mr();Y.__click=()=>{pa(e(h).id),p(ye,"")};var F=a(Y),L=a(F,!0);t(F);var f=r(F,2);Tr(f,{class:"w-4 h-4 text-emerald-400"}),t(Y),q(()=>n(L,(e(h),l(()=>e(h).name)))),d(ne,Y)}),t(y),t(w),q(()=>n(S,e(ye)?"Resultados de búsqueda":"Alumnos disponibles")),d(g,w)};j(ie,g=>{e(_e),l(()=>e(_e).length>0)&&g(de)})}var u=r(ie,2),b=a(u);{var N=g=>{var w=Rr(),R=a(w);Ge(R,{class:"w-12 h-12 mb-3 opacity-20"}),k(2),t(w),d(g,w)},z=g=>{var w=Nr(),R=r(a(w));ge(R,5,()=>e(D),ke,(S,y,ne)=>{var h=Ar(),Y=a(h);Y.textContent=ne+1;var F=r(Y),L=a(F),f=a(L,!0);t(L);var Ee=r(L);t(F);var m=r(F),_=a(m),J=a(_,!0);t(_),t(m);var V=r(m),ae=a(V);ae.__click=()=>ba(e(y).id);var ue=a(ae);ia(ue,{class:"w-4 h-4"}),t(ae),t(V),t(h),q(pe=>{n(f,pe),n(Ee,` ${e(y),l(()=>e(y).name)??""}`),n(J,(e(y),l(()=>e(y).level)))},[()=>(e(y),l(()=>e(y).name.charAt(0)))]),d(S,h)}),t(R),t(w),d(g,w)};j(b,g=>{e(D),l(()=>e(D).length===0)?g(N):g(z,!1)})}t(u),t(E),t(x),cr(te,()=>e(ye),g=>p(ye,g)),Je(3,x,()=>wt,()=>({duration:200})),d(c,x)};j(Ht,c=>{e(H)==="participants"&&c(Na)})}var Kt=r(Ht,2);{var Oa=c=>{var x=Zr(),E=a(x),A=a(E),le=a(A);Te(le,{class:"w-6 h-6 text-orange-500"}),k(),t(A);var Z=r(A,2);{var ee=u=>{const b=Be(()=>(e(P),l(()=>Math.max(...e(P))))),N=Be(()=>(e(s),U(e(b)),l(()=>e(s).matches.filter(h=>h.round===e(b))))),z=Be(()=>(U(e(N)),l(()=>e(N).every(h=>h.result))));var g=Ur(),w=a(g);{var R=h=>{var Y=Fr();d(h,Y)};j(w,h=>{e(z)||h(R)})}var S=r(w,2);S.__click=Tt;var y=a(S);Te(y,{class:"w-4 h-4"});var ne=r(y);t(S),t(g),q(()=>{S.disabled=!e(z),G(S,1,`px-5 py-2.5 rounded-xl font-bold text-sm flex items-center gap-2 transition-all shadow-lg active:scale-95 ${e(z)?"bg-orange-600 hover:bg-orange-500 text-white shadow-orange-900/20":"bg-slate-800 text-slate-500 cursor-not-allowed border border-slate-700 opacity-50"}`),n(ne,` ${e(z)?"Siguiente Ronda":"Completar Ronda"}`)}),d(u,g)},oe=u=>{var b=Yr();b.__click=Tt;var N=a(b);Te(N,{class:"w-5 h-5"}),k(),t(b),d(u,b)};j(Z,u=>{e(P),l(()=>e(P).length>0)?u(ee):u(oe,!1)})}t(E);var te=r(E,2);{var ie=u=>{var b=Lr(),N=a(b);Te(N,{class:"w-16 h-16 text-slate-700 mb-4"}),k(4),t(b),d(u,b)},de=u=>{var b=Xr();ge(b,5,()=>(e(P),l(()=>e(P).slice().reverse())),ke,(N,z)=>{var g=Qr(),w=a(g),R=a(w),S=a(R),y=a(S,!0);t(S);var ne=r(S);t(R);var h=r(R,2);h.__click=()=>br(e(s),e(z)-1,jt);var Y=a(h);$r(Y,{class:"w-3 h-3"}),k(),t(h),t(w);var F=r(w,2);ge(F,7,()=>(e(s),e(z),l(()=>e(s).matches.filter(L=>L.round===e(z)))),L=>L.id,(L,f,Ee)=>{const m=Be(()=>(e(W),e(f),l(()=>e(W).students.find(B=>B.id===e(f).whiteId)))),_=Be(()=>(e(f),e(W),l(()=>e(f).blackId==="BYE"?{name:"Descanso (Bye)",level:""}:e(W).students.find(B=>B.id===e(f).blackId))));var J=Kr(),V=r(a(J),2),ae=a(V),ue=a(ae),pe=a(ue),re=a(pe),be=a(re),vt=a(be,!0);t(be),t(re);var Le=r(re,2),Se=a(Le),ce=a(Se,!0);t(Se),k(2),t(Le),t(pe);var fe=r(pe,4),ct=a(fe),Qt=a(ct),Ya=a(Qt,!0);t(Qt),t(ct);var Xt=r(ct,2),xt=a(Xt),La=a(xt,!0);t(xt),k(2),t(Xt),t(fe),t(ue);var Ja=r(ue,2);{var Va=B=>{var K=Vr();ge(K,5,()=>It,ke,(ht,Q)=>{var X=Jr();X.__click=()=>$t(e(f).id,e(Q));var _t=a(X,!0);t(X),q(()=>{G(X,1,`flex-1 py-1.5 px-2 rounded text-xs font-bold transition-all duration-200 ${e(f),e(Q),l(()=>e(f).result===e(Q)?"bg-emerald-500 text-white shadow-lg":"text-slate-400 hover:text-white hover:bg-white/10")??""}`),n(_t,e(Q)==="0.5-0.5"?"½":e(Q))}),d(ht,X)}),t(K),d(B,K)},Ga=B=>{var K=Gr();d(B,K)};j(Ja,B=>{e(f),l(()=>e(f).blackId!=="BYE")?B(Va):B(Ga,!1)})}t(ae),t(V);var Zt=r(V,2),ut=a(Zt),pt=a(ut),bt=a(pt),ea=a(bt),qa=a(ea,!0);t(ea),t(bt);var ta=r(bt,2),ft=a(ta),Wa=a(ft,!0);t(ft),k(2),t(ta),t(pt);var aa=r(pt,4),mt=a(aa),ra=a(mt),Ha=a(ra,!0);t(ra),t(mt);var sa=r(mt,2),gt=a(sa),Ka=a(gt,!0);t(gt),k(2),t(sa),t(aa),t(ut);var Qa=r(ut,2);{var Xa=B=>{var K=Wr();ge(K,5,()=>It,ke,(ht,Q)=>{var X=qr();X.__click=()=>$t(e(f).id,e(Q));var _t=a(X,!0);t(X),q(()=>{G(X,1,`py-2 rounded-lg text-xs sm:text-sm font-bold transition-all duration-200 border ${e(f),e(Q),l(()=>e(f).result===e(Q)?"bg-emerald-500 text-white border-emerald-400 shadow-[0_0_15px_rgba(16,185,129,0.4)] scale-[1.02]":"bg-white/5 text-slate-400 border-white/5 hover:bg-white/10 hover:text-white")??""}`),n(_t,e(Q)==="0.5-0.5"?"½ - ½":e(Q))}),d(ht,X)}),t(K),d(B,K)},Za=B=>{var K=Hr();d(B,K)};j(Qa,B=>{e(f),l(()=>e(f).blackId!=="BYE")?B(Xa):B(Za,!1)})}t(Zt),t(J),q(()=>{n(vt,(U(e(m)),l(()=>e(m)?e(m).name[0]:"?"))),me(Se,"title",(U(e(m)),l(()=>e(m)?.name))),n(ce,(U(e(m)),l(()=>e(m)?e(m).name:"Desconocido"))),n(Ya,(U(e(_)),l(()=>e(_)?e(_).name[0]:"B"))),me(xt,"title",(U(e(_)),l(()=>e(_)?.name))),n(La,(U(e(_)),l(()=>e(_)?e(_).name:"Desconocido"))),n(qa,(U(e(m)),l(()=>e(m)?e(m).name[0]:"?"))),me(ft,"title",(U(e(m)),l(()=>e(m)?.name))),n(Wa,(U(e(m)),l(()=>e(m)?e(m).name:"Desconocido"))),n(Ha,(U(e(_)),l(()=>e(_)?e(_).name[0]:"B"))),me(gt,"title",(U(e(_)),l(()=>e(_)?.name))),n(Ka,(U(e(_)),l(()=>e(_)?e(_).name:"Desconocido")))}),Je(1,J,()=>fr,()=>({y:20,duration:400,delay:e(Ee)*50})),d(L,J)}),t(F),t(g),q(()=>{n(y,e(z)),n(ne,` Ronda ${e(z)??""}`)}),d(N,g)}),t(b),d(u,b)};j(te,u=>{e(P),l(()=>e(P).length===0)?u(ie):u(de,!1)})}t(x),Je(3,x,()=>wt,()=>({duration:200})),d(c,x)};j(Kt,c=>{e(H)==="matches"&&c(Oa)})}var Fa=r(Kt,2);{var Ua=c=>{var x=ls(),E=a(x),A=a(E),le=a(A);da(le,{class:"w-5 h-5 text-orange-500"}),k(),t(A);var Z=r(A,2);Z.__click=()=>{const de=e(P).length>0?Math.max(...e(P)):0;pr(e(s),jt,de,e(P).length||0)};var ee=a(Z);Ir(ee,{class:"w-4 h-4"}),k(),t(Z),t(E);var oe=r(E,2),te=a(oe),ie=r(a(te));ge(ie,5,()=>e($e),ke,(de,u,b)=>{var N=ss();G(N,1,`hover:bg-slate-800/40 transition-colors ${b<3?"bg-slate-800/20":""}`);var z=a(N),g=a(z);{var w=J=>{var V=es(),ae=a(V);na(ae,{class:"w-4 h-4"}),t(V),d(J,V)},R=J=>{var V=yt(),ae=Me(V);{var ue=re=>{var be=ts();d(re,be)},pe=re=>{var be=yt(),vt=Me(be);{var Le=ce=>{var fe=as();d(ce,fe)},Se=ce=>{var fe=rs();fe.textContent=`#${b+1}`,d(ce,fe)};j(vt,ce=>{b===2?ce(Le):ce(Se,!1)},!0)}d(re,be)};j(ae,re=>{b===1?re(ue):re(pe,!1)},!0)}d(J,V)};j(g,J=>{b===0?J(w):J(R,!1)})}t(z);var S=r(z),y=a(S);G(y,1,`font-bold text-white ${b===0?"text-yellow-500":""}`);var ne=a(y,!0);t(y);var h=r(y,2),Y=a(h,!0);t(h),t(S);var F=r(S),L=a(F,!0);t(F);var f=r(F);G(f,1,`p-4 text-right font-black text-xl ${b===0?"text-yellow-500":"text-white"}`);var Ee=a(f,!0);t(f);var m=r(f),_=a(m,!0);t(m),t(N),q(()=>{n(ne,(e(u),l(()=>e(u).name))),n(Y,(e(u),l(()=>e(u).id!=="BYE"?`Nivel: ${e(u).level}`:""))),n(L,(e(u),l(()=>e(u).games))),n(Ee,(e(u),l(()=>e(u).points))),n(_,(e(u),l(()=>e(u).buchholz)))}),d(de,N)}),t(ie),t(te),t(oe),t(x),Je(3,x,()=>wt,()=>({duration:200})),d(c,x)};j(Fa,c=>{e(H)==="standings"&&c(Ua)})}t(Wt),t(Yt),q(c=>{me(I,"href",`${Ve??""}/panel/torneos`),G(M,1,`inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-800 border border-slate-700 text-xs font-bold uppercase tracking-wider mb-4
                        ${e(s),l(()=>e(s).status==="Ongoing"?"text-emerald-400 border-emerald-500/30":e(s).status==="Completed"?"text-slate-400":"text-blue-400 border-blue-500/30")??""}`),G(se,1,`w-2 h-2 rounded-full ${e(s),l(()=>e(s).status==="Ongoing"?"bg-emerald-500 animate-pulse":"bg-current")??""}`),n(Oe,` ${e(s),l(()=>e(s).status==="Ongoing"?"Torneo En Curso":e(s).status==="Completed"?"Torneo Finalizado":"Inscripción Abierta")??""}`),n(xe,`${e(s),l(()=>e(s).name)??""} `),n(ya,` ${c??""}`),n(ka,` ${e(s),l(()=>e(s).format)??""}`),n(Ia,` ${e(D),l(()=>e(D).length)??""} Participantes`),n(ja,e(Ae)),me(Ue,"href",`${Ve??""}/panel/torneos/${e(s),l(()=>e(s).id)??""}/spectator`),G(Pe,1,`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center justify-between group ${e(H)==="participants"?"bg-orange-600 text-white shadow-lg shadow-orange-900/20":"bg-[#1e293b] text-slate-400 hover:bg-slate-800 border border-transparent hover:border-slate-700"}`),G(dt,1,`text-xs bg-black/20 px-2 py-0.5 rounded-full ${e(H)==="participants"?"text-white":"text-slate-500"}`),n(Ba,(e(D),l(()=>e(D).length))),G(Ce,1,`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center justify-between group ${e(H)==="matches"?"bg-orange-600 text-white shadow-lg shadow-orange-900/20":"bg-[#1e293b] text-slate-400 hover:bg-slate-800 border border-transparent hover:border-slate-700"}`),G(Ye,1,`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center justify-between group ${e(H)==="standings"?"bg-orange-600 text-white shadow-lg shadow-orange-900/20":"bg-[#1e293b] text-slate-400 hover:bg-slate-800 border border-transparent hover:border-slate-700"}`),n(Aa,(e(s),l(()=>e(s).format)))},[()=>(e(s),l(()=>new Date(e(s).date).toLocaleDateString()))]),d(o,i)};j(fa,o=>{e(s)?o(ga,!1):o(ma)})}t(et);var ha=r(et,2);mr(ha,{get title(){return e(Ke)},get message(){return e(Qe)},get confirmText(){return e(Ze)},get type(){return e(Xe)},get isOpen(){return e(je)},set isOpen(o){p(je,o)},$$events:{confirm:ua},$$legacy:!0}),d(qe,Pt),vr(),kt()}ar(["click"]);export{zs as component,Ms as universal};
