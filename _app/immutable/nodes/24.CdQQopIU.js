import{l as qt,e as Kt,g as Qt,a as A,b as Tt,f as U,s as Xt,c as n}from"../chunks/DfPprva0.js";import{I as Zt,a as te,i as ee,e as ae,t as it,d as se,b as Pt}from"../chunks/SDohX1Oa.js";import{o as re}from"../chunks/CYLyCtPQ.js";import{f as le,p as oe,m as y,b as h,l as N,h as de,t as J,a as ne,g as t,D as ie,c as a,s as r,u as d,$ as ce,r as e,n as B}from"../chunks/B4zm7d7r.js";import{i as Ct}from"../chunks/CPpFl6Wl.js";import{h as ve}from"../chunks/fQUBIjkN.js";import{p as pe}from"../chunks/DojiiGNW.js";import{a as Dt,o as xe}from"../chunks/l-0K12sd.js";import{a as me,f as Et}from"../chunks/D2R-gXPi.js";import{T as Nt}from"../chunks/g4oizyDh.js";import{T as fe}from"../chunks/D3cfiXoy.js";import{M as Bt}from"../chunks/DlICbA84.js";function ue(V,L){const W=qt(L,["children","$$slots","$$events","$$legacy"]);const Y=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}],["path",{d:"M8 16H3v5"}]];Zt(V,Kt({name:"refresh-cw"},()=>W,{get iconNode(){return Y},children:(R,ct)=>{var m=Qt(),i=le(m);te(i,L,"default",{}),A(R,m)},$$slots:{default:!0}}))}const be=!1,Ee=Object.freeze(Object.defineProperty({__proto__:null,prerender:be},Symbol.toStringTag,{value:"Module"}));var he=U('<div class="max-w-5xl mx-auto mb-8 px-2"><div class="grid grid-cols-3 gap-2 md:gap-4 items-end"><div class="text-center"><div class="relative mb-4"><div class="w-24 h-24 mx-auto rounded-full bg-gradient-to-br from-slate-400 to-slate-600 flex items-center justify-center border-4 border-slate-700"><span class="text-3xl font-black text-white">2</span></div> <div class="absolute -top-2 -right-2"><!></div></div> <div class="bg-slate-800/50 border border-slate-700 rounded-lg md:rounded-xl p-2 md:p-4 h-24 md:h-32 flex flex-col justify-center"><h3 class="font-bold text-xs md:text-lg mb-0.5 md:mb-1 truncate px-1"> </h3> <p class="text-lg md:text-2xl font-black text-slate-400"> </p> <p class="text-[10px] md:text-xs text-slate-500">puntos</p></div></div> <div class="text-center -mt-4 md:-mt-8"><div class="relative mb-4"><div class="w-32 h-32 mx-auto rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 flex items-center justify-center border-4 border-yellow-500 shadow-lg shadow-yellow-500/50"><span class="text-4xl font-black text-white">1</span></div> <div class="absolute -top-2 -right-2"><!></div></div> <div class="bg-gradient-to-br from-yellow-500/20 to-orange-500/20 border-2 border-yellow-500/50 rounded-lg md:rounded-xl p-3 md:p-6 h-28 md:h-40 flex flex-col justify-center"><h3 class="font-bold text-sm md:text-xl mb-1 md:mb-2 truncate px-1"> </h3> <p class="text-2xl md:text-4xl font-black text-yellow-400"> </p> <p class="text-xs md:text-sm text-yellow-300">puntos</p></div></div> <div class="text-center"><div class="relative mb-4"><div class="w-24 h-24 mx-auto rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center border-4 border-orange-700"><span class="text-3xl font-black text-white">3</span></div> <div class="absolute -top-2 -right-2"><!></div></div> <div class="bg-slate-800/50 border border-slate-700 rounded-lg md:rounded-xl p-2 md:p-4 h-24 md:h-32 flex flex-col justify-center"><h3 class="font-bold text-xs md:text-lg mb-0.5 md:mb-1 truncate px-1"> </h3> <p class="text-lg md:text-2xl font-black text-orange-400"> </p> <p class="text-[10px] md:text-xs text-slate-500">puntos</p></div></div></div></div>'),_e=U('<p class="text-xs text-slate-500"> </p>'),ge=U('<tr><td class="px-6 py-4"><span></span></td><td class="px-6 py-4"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-full bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center font-bold"> </div> <div><p class="font-semibold text-white"> </p> <!></div></div></td><td class="px-6 py-4 text-center"><span class="text-2xl font-black text-white"> </span></td><td class="px-6 py-4 text-center"><span class="text-lg text-slate-400"> </span></td><td class="px-6 py-4 text-center"><span class="text-lg text-slate-400"> </span></td></tr>'),ye=U('<div class="min-h-screen bg-gradient-to-br from-[#0f172a] via-[#1e293b] to-[#0f172a] text-white p-4 md:p-8"><div class="max-w-7xl mx-auto mb-12 md:mb-16"><div class="text-center mb-6"><div class="inline-flex items-center gap-3 mb-4"><div class="p-3 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl"><!></div></div> <h1 class="text-4xl md:text-6xl font-black bg-gradient-to-r from-orange-400 via-yellow-400 to-orange-400 bg-clip-text text-transparent mb-2"> </h1> <p class="text-slate-400 text-lg"> </p></div> <div class="flex flex-wrap justify-center gap-4 mb-6"><div class="px-4 py-2 bg-slate-800/50 rounded-lg border border-slate-700"><span class="text-slate-400 text-sm">Formato:</span> <span class="ml-2 font-semibold"> </span></div> <div class="px-4 py-2 bg-slate-800/50 rounded-lg border border-slate-700"><span class="text-slate-400 text-sm">Ronda:</span> <span class="ml-2 font-semibold"> </span></div> <div class="px-4 py-2 bg-slate-800/50 rounded-lg border border-slate-700"><span class="text-slate-400 text-sm">Participantes:</span> <span class="ml-2 font-semibold"> </span></div> <div class="px-4 py-2 bg-slate-800/50 rounded-lg border border-slate-700"><span class="text-slate-400 text-sm">Estado:</span> <span class="ml-2 font-semibold capitalize"> </span></div></div> <div class="flex justify-center items-center gap-2 text-sm text-slate-500"><!> <span>Actualización automática cada 10s</span> <span class="text-slate-600"> </span></div></div> <!> <div class="max-w-6xl mx-auto"><h2 class="text-2xl font-bold mb-4 flex items-center gap-2"><!> Clasificación Completa</h2> <div class="bg-slate-800/30 border border-slate-700 rounded-2xl overflow-hidden"><div class="overflow-x-auto"><table class="w-full"><thead><tr class="bg-slate-900/50 border-b border-slate-700"><th class="px-6 py-4 text-left text-sm font-semibold text-slate-400">#</th><th class="px-6 py-4 text-left text-sm font-semibold text-slate-400">Jugador</th><th class="px-6 py-4 text-center text-sm font-semibold text-slate-400">Puntos</th><th class="px-6 py-4 text-center text-sm font-semibold text-slate-400">Buchholz</th><th class="px-6 py-4 text-center text-sm font-semibold text-slate-400">Partidas</th></tr></thead><tbody></tbody></table></div></div></div> <div class="max-w-6xl mx-auto mt-12 text-center text-slate-500 text-sm"><p>Powered by <span class="font-semibold text-emerald-500">ChessNet</span></p> <p class="mt-1">Gestión profesional de torneos de ajedrez</p></div></div>');function Ne(V,L){oe(L,!1);const W=()=>Tt(Dt,"$appStore",R),Y=()=>Tt(pe,"$page",R),[R,ct]=Xt(),m=y(),i=y(),vt=y(),pt=y();let $=y(W());Dt.subscribe(l=>h($,l));let xt=Y().params.id,o=y(),F=y(new Date),q,K;re(()=>(q=setInterval(()=>{h(F,new Date)},1e4),K=xe(l=>{l.type==="tournament-update"&&l.tournamentId===xt&&h(F,new Date)}),()=>{q&&clearInterval(q),K&&K()})),N(()=>t($),()=>{h(o,t($).tournaments.find(l=>l.id===xt))}),N(()=>(t(o),t($)),()=>{h(m,t(o)?t($).students.filter(l=>t(o)?.participants.includes(l.id)):[])}),N(()=>(t(o),t(m)),()=>{h(i,(()=>{if(!t(o))return[];const l=new Map;return t(m).forEach(s=>l.set(s.id,0)),l.set("BYE",0),t(o).matches.forEach(s=>{if(s.result){const c=l.get(s.whiteId)||0,v=l.get(s.blackId)||0;s.result==="1-0"?l.set(s.whiteId,c+1):s.result==="0-1"?l.set(s.blackId,v+1):s.result==="0.5-0.5"&&(l.set(s.whiteId,c+.5),l.set(s.blackId,v+.5))}}),t(m).map(s=>{const c=l.get(s.id)||0;let v=0,p=0;return t(o)?.matches.forEach(x=>{const u=x.whiteId===s.id,_=x.blackId===s.id;if(u||_){p++;const f=u?x.blackId:x.whiteId;v+=l.get(f)||0}}),{student:s,points:c,buchholz:v,games:p}}).sort((s,c)=>c.points!==s.points?c.points-s.points:c.buchholz-s.buchholz)})())}),N(()=>t(o),()=>{h(vt,t(o)?Math.max(...t(o).matches.map(l=>l.round),0):0)}),N(()=>t(o),()=>{h(pt,t(o)?.format==="Suizo"?5:0)}),de(),ee();var Q=ye();ve("19tusgu",l=>{ie(()=>{ce.title=`${t(o),d(()=>t(o)?.name||"Torneo")??""} - Clasificación en Vivo | ChessNet`})});var O=a(Q),X=a(O),Z=a(X),mt=a(Z),At=a(mt);Nt(At,{class:"w-10 h-10 text-white"}),e(mt),e(Z);var tt=r(Z,2),Lt=a(tt,!0);e(tt);var ft=r(tt,2),Rt=a(ft,!0);e(ft),e(X);var et=r(X,2),at=a(et),ut=r(a(at),2),Ft=a(ut,!0);e(ut),e(at);var st=r(at,2),bt=r(a(st),2),Ot=a(bt);e(bt),e(st);var rt=r(st,2),ht=r(a(rt),2),Gt=a(ht,!0);e(ht),e(rt);var _t=r(rt,2),gt=r(a(_t),2),Ht=a(gt,!0);e(gt),e(_t),e(et);var yt=r(et,2),wt=a(yt);ue(wt,{class:"w-4 h-4 animate-spin"});var $t=r(wt,4),Jt=a($t);e($t),e(yt),e(O);var kt=r(O,2);{var Ut=l=>{var s=he(),c=a(s),v=a(c),p=a(v),x=r(a(p),2),u=a(x);Bt(u,{class:"w-8 h-8 text-slate-400"}),e(x),e(p);var _=r(p,2),f=a(_),dt=a(f,!0);e(f);var k=r(f,2),I=a(k,!0);e(k),B(2),e(_),e(v);var j=r(v,2),z=a(j),G=r(a(z),2),M=a(G);Nt(M,{class:"w-10 h-10 text-yellow-400"}),e(G),e(z);var S=r(z,2),T=a(S),P=a(T,!0);e(T);var C=r(T,2),nt=a(C,!0);e(C),B(2),e(S),e(j);var D=r(j,2),w=a(D),H=r(a(w),2),g=a(H);Bt(g,{class:"w-8 h-8 text-orange-400"}),e(H),e(w);var b=r(w,2),E=a(b),Wt=a(E,!0);e(E);var St=r(E,2),Yt=a(St,!0);e(St),B(2),e(b),e(D),e(c),e(s),J(()=>{n(dt,(t(i),d(()=>t(i)[1].student.name))),n(I,(t(i),d(()=>t(i)[1].points))),n(P,(t(i),d(()=>t(i)[0].student.name))),n(nt,(t(i),d(()=>t(i)[0].points))),n(Wt,(t(i),d(()=>t(i)[2].student.name))),n(Yt,(t(i),d(()=>t(i)[2].points)))}),it(3,s,()=>Et,()=>({y:20,delay:200})),A(l,s)};Ct(kt,l=>{t(i),d(()=>t(i).length>=3)&&l(Ut)})}var lt=r(kt,2),ot=a(lt),Vt=a(ot);fe(Vt,{class:"w-6 h-6 text-emerald-500"}),B(),e(ot);var It=r(ot,2),jt=a(It),zt=a(jt),Mt=r(a(zt));ae(Mt,5,()=>t(i),se,(l,s,c)=>{var v=ge();Pt(v,1,`border-b border-slate-700/50 hover:bg-slate-800/30 transition-colors ${c<3?"bg-slate-800/20":""}`);var p=a(v),x=a(p);Pt(x,1,`text-2xl font-black ${c===0?"text-yellow-400":c===1?"text-slate-400":c===2?"text-orange-400":"text-slate-600"}`),x.textContent=c+1,e(p);var u=r(p),_=a(u),f=a(_),dt=a(f,!0);e(f);var k=r(f,2),I=a(k),j=a(I,!0);e(I);var z=r(I,2);{var G=g=>{var b=_e(),E=a(b,!0);e(b),J(()=>n(E,(t(s),d(()=>t(s).student.level)))),A(g,b)};Ct(z,g=>{t(s),d(()=>t(s).student.level)&&g(G)})}e(k),e(_),e(u);var M=r(u),S=a(M),T=a(S,!0);e(S),e(M);var P=r(M),C=a(P),nt=a(C,!0);e(C),e(P);var D=r(P),w=a(D),H=a(w,!0);e(w),e(D),e(v),J((g,b)=>{n(dt,g),n(j,(t(s),d(()=>t(s).student.name))),n(T,(t(s),d(()=>t(s).points))),n(nt,b),n(H,(t(s),d(()=>t(s).games)))},[()=>(t(s),d(()=>t(s).student.name.charAt(0))),()=>(t(s),d(()=>t(s).buchholz.toFixed(1)))]),A(l,v)}),e(Mt),e(zt),e(jt),e(It),e(lt),B(2),e(Q),J((l,s)=>{n(Lt,(t(o),d(()=>t(o)?.name||"Torneo"))),n(Rt,l),n(Ft,(t(o),d(()=>t(o)?.format||"N/A"))),n(Ot,`${t(vt)??""} / ${(t(pt)||"?")??""}`),n(Gt,(t(m),d(()=>t(m).length))),n(Ht,(t(o),d(()=>t(o)?.status||"N/A"))),n(Jt,`• Última actualización: ${s??""}`)},[()=>(t(o),d(()=>t(o)?.date?new Date(t(o).date).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"")),()=>(t(F),d(()=>t(F).toLocaleTimeString()))]),it(3,O,()=>me),it(3,lt,()=>Et,()=>({y:20,delay:400})),A(V,Q),ne(),ct()}export{Ne as component,Ee as universal};
